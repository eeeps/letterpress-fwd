
/* Fonts
 * TODO 
 *  - any use for the variable fonts?
 *  - optimize font files
 *  	- Glyphhanger
 *  - fallbacks or is woff2 support ~universal these days?
 *  - preload in HTML (or HTTP)
 *  - swap or nah? 
 */

@font-face {
	font-family: "EB Garamond";
	src:
		url("/fonts/EB_Garamond/static/EBGaramond-Regular.woff2") format("woff2");
}

@font-face {
	font-family: "Inter";
	font-weight: normal;
	src:
		url("/fonts/Inter/static/Inter-Regular.woff2") format("woff2");
}

@font-face {
	font-family: "Inter";
	font-weight: bold;
	src:
		url("/fonts/Inter/static/Inter-Bold.woff2") format("woff2");
}


html {

	/* font stacks */
	--garamond: "EB Garamond", serif;
	--inter: "Inter", sans-serif;
	
	/* colors */
	--vermillion: #dd3b21;
	--vermillion-r: 86.667%;
	--vermillion-g: 23.137%;
	--vermillion-b: 12.941%;

	/* type sizing scale */
	--font-size--1: 0.75rem;
	--font-size-0: 0.875rem;
	--font-size-1: 1rem;
	--font-size-2: 1.125rem;
	--font-size-3: 1.25rem;
	--font-size-4: 1.375rem;
	--font-size-5: 1.5rem;
	--font-size-6: 1.75rem;
	--font-size-7: 2.25rem;
	
	font-family: var(--garamond);
	
	--section-gradient: linear-gradient(
		to top,
		rgb(
			var(--vermillion-r)
			var(--vermillion-g)
			var(--vermillion-b) / 0.05
		),
		transparent 20%
	);

}

/* resets */

html, body {
	margin: 0;
	padding: 0;
}


/* grid */

/* body, and the sections within main, are stacked using normal flow layout */
body > header,
main > section,
body > footer {
	display: grid;
	grid-template-columns: 1.5rem 1fr 1.5rem;
}

/* everything in header, sections within main, and footer
   gets put in the center content column
   (but can break out into the left/right margins to be full bleed if it needs to) */
body > header > *,
main > section > *,
body > footer > * {
	grid-column: 2;
}


/* basics */

h1, h2, h3, h4, h5, h6, hgroup, dt {
	font-family: var(--inter);
	font-kerning: normal; /* apply font kerning instructions */
	text-wrap: balance; /* in case of wrapping */
}

hgroup > h1,
hgroup > h2,
hgroup > h3,
hgroup > h4,
hgroup > h5,
hgroup > h6 {
	margin-bottom: 0;
}

a {
	color: var(--vermillion);
}

img {
	width: 100%;
	height: auto;
	max-width: 20em; /* TODO stopgap placeholder... */
}

.small-caps-head {
	font-size: var(--font-size--1);
	text-transform: uppercase;
}

.head {
	font-weight: bold;
	font-size: var(--font-size-0);
}

/* header */

.header-wrapper {
	border-top: 1px solid black;
}

.org-name {
	text-transform: uppercase;
	font-weight: bold;
	font-size: var(--font-size-0);
}

.org-subhead {
	margin-top: 0;
	text-transform: uppercase;
	font-weight: normal;
	font-size: var(--font-size-0);
}

header a[href="#signup"] {
	display: none;
}

/* intro */

.intro {
	background-image: var(--section-gradient);
}

.lede {
	font-size: var(--font-size-4);
}

.carousel {
	grid-column: 0 / 3;
}

.carousel figcaption {
	border-block-start: 1px solid black;
	font-family: var(--inter);
	font-size: var(--font-size--1);
}

.title {
	font-weight: bold;
	margin-bottom: 0;
}

.description {
	margin-block-start: 0;
}

/* projectOne */

/* timelineSection */

.timelineSection {
	background-image: var(--section-gradient);
}

.timeline {

	--dot-diameter: 1rem;
	--stroke-width: 0.25rem;
	--between-items-gap: 6rem;
	--timeline-to-content-gap: 1.5rem;

	border-left: var(--stroke-width) solid var(--vermillion); /* todo clip or replace with clipped svg */
	border-image: 
		linear-gradient(
			to bottom, 
			var(--vermillion) 70%,
			transparent
    	) 1 100%;

}

.timeline div {
	margin-block-start: calc( var(--between-items-gap) / 2);
	margin-block-end: calc( var(--between-items-gap) / 2);
	margin-inline-start: var(--timeline-to-content-gap);
}

/* pull first item up
   so that the stroke starts in the middle of the first dot */
.timeline div:first-child {
	margin-block-start: calc( -1 * var(--dot-diameter) / 2 );
}

/* gap between years and text */
.timeline dt {
	margin-block-end: 1rem;
}

/* dots */
.timeline dt::before {

	/* draw a dot */
	content: "";
	display: inline-block;
	inline-size: var(--dot-diameter);
	block-size: var(--dot-diameter);
	/* can't concat in url(), doh
	   had to use the hex-code for vermillion here,
	   won't update with variable change */
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%23dd3b21' /></svg>");
	background-size: contain;
	
	/* pull the dot back to horizontally center it over the border */
	margin-inline-start: calc( -1 * (
		var(--timeline-to-content-gap) +
		( var(--dot-diameter) / 2 ) +
		( var(--stroke-width) / 2 )
	) );
	
	/* push the content after the dot back
	   to where it would have been, without the dot */
	margin-inline-end: calc(
		var(--timeline-to-content-gap) -
		( var(--dot-diameter) / 2 ) +
		( var(--stroke-width) / 2 )
	);

}

/* vertically center the dot
   with the cap height of the text that comes after it
   https://blog.kizu.dev/cap-height-align/ */

.timeline dt {
	/* Adjusted for Inter */
	--cap: 0.7272727273em;
}

@supports (height: 1cap) {
	.timeline dt {
		--cap: 1cap;
	}
}

.timeline dt::before {
	vertical-align: middle;
	margin-block-start: calc(1ex - var(--cap));
}

/* ok! done with dots! */

.timeline dd {
	font-size: var(--font-size-4);
	margin-inline-start: 0;
}

.presentDay {
	--dot-diameter: 1.5rem;
}

.presentDay dt {
	font-size: var(--font-size-3);
}

.presentDay dd {
	font-size: var(--font-size-6);
}


/* fwd */

.giantFwd {
	font-size: 100px;
	font-family: var(--garamond);
	font-weight: normal;
	margin-block: 0;
}


/* footer */

footer {
	font-family: var(--inter);
	background: var(--vermillion);
	color: white;
}

footer a {
	color: white;
}
